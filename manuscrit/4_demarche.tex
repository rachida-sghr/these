\chapter{Limites des pratiques d'Architecture d'Entreprise actuelles et proposition}
\label{ch:demarche}

\PartialToc

Créer des modèles d'architecture d'entreprise à des fins d'analyse par simulation implique de suivre un processus précis. L'objectif de notre travaux est de définir le processus de modélisation et de simulation à adopter, les rôles impliqués, les artefacts conceptuels requis, ainsi que les outils et les langages adéquats pour mener des analyses de structure et de comportement. 

Notre contribution est double. D'abord, nous proposons une démarche de modélisation et d'analyse qui s'appuie sur un cadre d'architecture multi-vues. Nous dotons ce cadre d'architecture d'une vue supplémentaire qui est est la vue intégration. Cette vue a pour but d'adresser les problématiques de cohérence et d'alignement. Ensuite, nous mettons à profit les langages et standards de l'IDM permettant de modéliser et de simuler les architectures d'entreprise. 


%In this section, we present our approach and we apply it on the case study of managing an electric vehicles fleet. Our contribution is twofold. First, we propose a multi-view framework for EA with an additional view: the integration view. This view aims to address consistency and alignment issues. Second, we use executable and standardized languages from MDE to model and simulate EA.

\section{Analyse des pratiques courantes d'Architecture d'Entreprise}

	\subsection{L'Architecture d'Entreprise pour la documentation et la communication}
	L'EA permet de capturer les composants de l'entreprise dans leurs états courants et désirés. La manière employée la plus courante de représenter ces composants reste la documentation \cite{barn2013enterprise}. Ces documents couvrent des aspects tels que les processus métier, les fonctions, les applications et l'infrastructure technique de l'entreprise, ainsi que leurs relations. Pour remplir leur rôle de référentiel d'entreprise, ces documents doivent être précis et régulièrement mis à jour. L'activité de documentation en EA telle que pratiquée actuellement est confrontés à des obstacles majeurs empêchant la production des documents pertinents et tenant lieu de feuille sur toute la trajectoire de l'entreprise~: de son état actuel à son état désiré.
	
	D'abord, la complexité de l'entreprise se retrouve dans sa représentation. En effet, une entreprise comme \gls{erdf} comporte des milliers de processus métier et des milliers d'applications supportant ses activités. Ces processus et ces applications sont de plus fortement interdépendants. Par conséquent, l'effort à fournir pour produire une documentation d'architecture pertinente est considérable. De plus, maintenir ces documents à jour n'est pas aisé du fait (1) du grand nombre d'artefacts à gérer et (2) du manque d'outils adéquats comme le confirment Shah et al. \cite{shah2007frameworks} et Roth et al. \cite{roth2013enterprise}. Or si la documentation n'est pas convenablement mise à jour, la valeur ajoutée et la crédibilité de l'EA sont remises en doute par l'ensemble de l'entreprise. 
	
	En outre, l'EA nécessite de collecter des informations provenant d'unités et de services différents (autant stratégique, opérationnelle ou support). Cette collecte est bien souvent centralisées au niveau du entité IT de l'entreprise, où une seule équipe est chargée d'acquérir les informations provenant des autres entités. Cette étiquette IT fait souvent préjudice aux efforts d'EA au sein de l'entreprise en la réduisant à de l'architecture IT. Zachman déplore cet état de fait, soulignant qu'il est nécessaire que l'EA transcende la sphère de l'IT et désignant l'EA comme «~l'enjeu du siècle~» \cite{zachman1997enterprise}.
 %-> team organization 
	
	Ensuite, les documents d'EA ne sont pas homogènes. Selon leurs besoins, les membres de l'équipe responsable de la documentation ont en effet tendance à utiliser des représentations hétérogènes. Shah et al. \cite{shah2007frameworks} font le constat que les équipes d'EA utilisent de surcroît plusieurs outils différents pour produire ces représentations aboutissant à une documentation ambigüe. Expliciter et exprimer les relations entre les représentations n'en est que laborieux et malaisé et la cohérence de l'ensemble de l'architecture s'en trouve ainsi compromise.
	
	Enfin, la valeur ajoutée de l'EA diminue si la documentation produite n'est pas régulièrement mise à jour. Comme expliqué dans la section , les documents d'EA correspondent la plupart du temps à des modèles purement contemplatifs. C'est à notre avis, l'une des raisons qui expliquent le manque certain d'outils permettant d'automatiser cette mise à jour, voire même d'automatiser l'analyse de l'architecture d'entreprise comme expliqué dans la section suivante.
	

	\subsection{L'Architecture d'Entreprise pour l'analyse}
	
	L'analyse des composants métier, fonctionnel, applicatif et technique de l'entreprise est limitée par la manière dont ces composants sont représentés, c'est à dire sous la forme de documentation. Comme ce type de représentation ne permet pas l'automatisation de l'analyse, dans la pratique, les choix d'architecture repose entièrement sur le bon sens, à l'expérience et à l'expertise de l'architecte d'entreprise. Comme pour la documentation, l'analyse de l'architecture d'une grande entreprise est une activité éprouvante et chronophage à cause du grand nombre d'artefacts manipulés et de leurs forte interdépendance. Les praticiens mènent souvent les activités d'analyse manuellement \cite{barn2013enterprise}, sans le support d'outils intégrant naturellement les cadres d'architecture.
	
	D'une part, l'analyse de la structure et du comportement de entreprise permet d'acquérir une connaissance plus approfondie de l'ensemble de l'architecture. La documentation de l'architecture telle que décrit dans la section précédente est souvent sources d'erreurs à étant donnée la grande quantité et la forte interdépendance des artefacts manipulés \cite{kaisler_enterprise_2005}. Analyser cette documentation est d'abord indispensable à la détection de ces erreurs de représentation.
	
	Ensuite, Notre tour d'horizon des pratiques actuelles nous mène à constater que l'EA joue un rôle prépondérant durant les phases de description de l'existant et de spécification du système à mettre en œuvre mais qu'elle n'est pas exploitée dans toute sa potentialité. L'entreprise gagnerait à promouvoir l'architecture d'entreprise au rang de référentiel accompagnant l'entreprise sur toute sa trajectoire (de la spécification à la conception), et en particulier pour anticiper les incohérences potentielles entre les besoins formulés par le métier et leurs implémentations finales au niveau du SI.
	
	Pour ces travaux de recherches, plusieurs cas d'études ont été examinés, dont notamment la régulation de tension sur le réseau électrique \cite{seghiri2014simulation}, le pilotage d'une batterie chez un particulier \cite{seghiri2012animation} et la gestion d'une flotte de véhicules électriques \cite{seghiri2015simulation}. Qu'il s'agisse d'un projet de recherche européen (le pilotage d'une batterie chez un particulier), d'un projet interne à EDF (la régulation de tension), ou d'un projet opérationnel impliquant EDF ainsi que d'autres partenaires (la gestion d'une flotte de véhicules électriques), la documentation relative à l'architecture ne va pas au delà de la description générale des fonctionnalités attendues et ne permet pas d'analyser afin de les valider la structure et le comportement du système avant son implémentation finale. Pour accéder à un niveau de détails suffisant à analyser l'architecture du système avant son implémentation, une rétro-ingénierie du système final et des échanges avec les développeurs et les concepteurs ont été nécessaires. Ces constatations tirées du terrain rejoignent donc les conclusions de l'état de l'art concernant les limites des « modèles contemplatifs ».
	
	D'autre part, les mises en œuvre courantes d'EA adoptent une approche descendante où l'architecte d'entreprise ne fait qu'aligner le SI à la stratégie de l'entreprise en considérant cette dernière comme acquise. Une démarche descendante implique que la vision et les grandes lignes de la stratégie sont conçues en amont de l'EA et indépendamment de la réalité du SI qui va l'implémenter. Les choix stratégiques sont alors faits dans « une tour d'ivoire » et sont ainsi déconnectés de la réalité du SI. Il nous paraît au contraire important que l'analyse de l'architecture d'entreprise permettre d'évaluer et d'éclairer les choix stratégiques eux-mêmes, en plus de planifier leur déclinaison au niveau du SI. 
	
	Cette vision rejoint celle de l'école de pensée « Enterprise System Architecting » décrite par Lapalme \cite{lapalme2012three} et présentée dans la section~\ref{Lapalme}. Cependant, les approches d'analyse telles que pratiquées actuellement ne permettent pas d'y parvenir. L'analyse et la validation de la stratégie est désincarnée de l'EA. Par exemple, les algorithmes d'optimisation et de simulation de processus métier s'adressent uniquement aux analystes métier et ne sont pas couplés à la cartographie du patrimoine applicatif et aux capacités de l'infrastructure technique. Inversement, l'analyse de l'architecture d'entreprise se cantonne à valider la robustesse et la résilience du SI en dressant l'inventaire des applications d'entreprise, des interfaces logiciels, les serveurs d'application et leur aptitude à mettre en œuvre la stratégie de l'entreprise, sans jamais remettre celle-ci en question. 
	
	Appliquée à l'EA, l'approche descendante consiste décomposer les éléments d'une vue supérieure en éléments plus détaillés dans la vue inférieure, présumant que la recomposition des éléments de la vue inférieure correspondra parfaitement aux éléments de la vue supérieure. Or, des travaux de recherche portant sur la complexité des SI actuels soulignent que des propriétés « émergentes » apparaissent quand un grand nombre de systèmes complexes sont fortement interconnectés \cite{bullock2004complexity}, comme c'est que cas de l'IT d'une entreprise de la taille de \gls{edf} par exemple. Une définition de l'émergence est donnée en sciences du Design par Gero \cite{gero1992creativity}~: « une propriété qui est uniquement implicite, i.e. qui n'est pas représentée explicitement, est dite émergente si elle peut être explicitée ». 
	
	L'analyse de l'EA, doublée d'une approche ascendante (et non uniquement descendante), peut expliciter les propriétés émergentes de l'IT de l'entreprise et les porter au niveau du métier pour en extraire une plus-value pour le métier et orientée avantageusement la stratégie de l'entreprise. En effet, l'EA est d'autant plus pertinente pour l'entreprise si l'analyse de l'architecture n'est pas uniquement destinée à exécuter la stratégie de l'entreprise, comme c'est souvent le cas, mais à mettre en place de relations bidirectionnelles entre les partie-prenantes pour lieux éclairer la prise de décision à tous les niveaux de l'entrepirse. Ce relations sont alors pilotées par l'architecte d'entreprise. 
	
%	Syndrome de la tour d'ivoire -> modèles complexes et abstraits
%	Partage de représentation pour une compréhension commune des documents
	
	\subsection{L'Architecture d'Entreprise pour l'implémentation}
	
	L'EA a pour rôle de décrire l'état courant de l'entreprise(\textit{as-is}), l'état désirée (\textit{to-be}) et les étapes pour passer du premier au deuxième. L'observation des pratiques actuelles, à travers la consultation de la documentation des projets Smart Grid évoqués précédemment, ainsi que l'étude bibliographique pointe vers le même constat~: le passage du \textit{as-is} au \textit{to-be} se résume à une description des grands principes et des recommandations générales. 
	
	Ces descriptions générales, bien que nécessaires à la construction et au partage d'une vision globale de l'entreprise et des grandes étapes, ne sont pas suffisantes. Les limites que nous identifions rejoignent les constats de l'approche IDM pour le développement logiciel. Il s'agit là encore de représentation purement contemplative. Celle-ci n'est pas en mesure d'accompagner l'entreprise sur toute sa trajectoire en allant jusqu'à l'implémentation du système final pour plusieurs raisons.
	
	Tout d'abord, les représentations purement contemplatives restent ambigües et sujettes à des interprétations inadéquates. Les parties prenantes utilisent des langages hétérogènes et des systèmes de notations différents en fonction de leur besoin et de leur perspective. Un terme ou une annotation de la perspective métier peut vouloir dire quelque chose de différent s'il est utilisé dans une perspective IT. Par exemple, le terme « qualité » employé dans la vue métier peut vouloir dire « aptitude d'un processus à remplir un objectif métier ». Employé pour un processus applicatif, le terme « qualité » peut correspondre à la bonne orchestration et interopérabilité des applications sans considérer l'objectif métier qui lui a donné lieu. Le décalage d'interprétation peut conduire à l'implémentation d'un système informatique performant mais qui ne répond pas aux objectifs fonctionnels de l'entreprise. 
	
	Puis, ces représentations ne sont pas assez réactives à l'évolution de la stratégie de l'entreprise. L'effort de traduction du besoin métier en vision technique est essentiellement humain et consiste en la rédaction de spécifications sous la forme de listes, textes et figures. Mettre à jour ces spécifications suite à un changement de stratégie nécessite un effort et un temps non négligeable. D'ailleurs, les documents de spécification ne sont souvent pas mise à jour après les demandes d'évolutions. Celles-ci sont directement implémentées dans le code remettant en cause la traçabilité de l'évolution de l'entreprise.
	
	Ensuite, nous estimons que l'ambiguïté et le manque de réactivité de ces représentations d'architecture expliquent, en partie, pourquoi elles sont pas assez diffusées et partagée au sein de l'entreprise et ne l'accompagnent pas sur toute sa trajectoire. D'un point de vue organisationnel, les équipes de projet ne sont pas toujours conscients de l'existence d'une architecture d'entreprise de référence \cite{shah2007frameworks}. L'EA échoue par là pas à offrir un schéma directeur et une vue d'ensemble de l'état de l'entreprise et ne remplit pas son rôle de garant de la cohérence et de l'alignement métier/IT lors de l'implémentation du système final.
	
	Enfin, les représentation purement  ne permettent pas les liens de traçabilité sont indispensables à la vérification de la cohérence de l'architecture sur toute la trajectoire de l'entreprise. Souvent, ces liens ne sont pas explicitement représentée dans les cadres d'EA actuels. Lorsque ces liens sont représentés, c'est sous une forme purement contemplative qui ne permet donc pas de les exploiter informatiquement \textit{a posteriori}, pour vérifier que tous les composants de la vue technique participent bien à l'exécution de la stratégie de l'entreprise par exemple. 
	
	\subsection{L'architecture d'entreprise pour les Smart Grids}
	
	
Avant d'aboutir à, Hypothèse : L'entreprise comme un projet.


\section{ExecuteEA}


L'EA peut avoir différents objectifs. Kurpjuweit et Winter \cite{kurpjuweit2007viewpoint} identifient trois objectifs de l'EA par rapport aux SI de l'entreprise~:~(1)~la documentation et la communication, (2)~l'analyse et la compréhension et (3)~la conception et l'implémentation. Nous étendons cette vision centrée sur les SI à l'ensemble de l'entreprise en adoptant l'école de pensée «~intégrative~» comme décrite par la taxonomie de Lapalme (voir section \ref{Lapalme}, page \pageref{Lapalme} de l'état de l'art). 

Nous considérons donc que la documentation et la communication, l'analyse et la compréhension et enfin la conception concernent tout le système entreprise et pas seulement sa composante SI. Par exemple, contrairement à une EA centrée sur les SI, les processus métier sont modélisés et évalués tout autant que l'architecture applicative. La figure \ref{fig:approche_conceptuelle} illustre notre approche conceptuelle. Celle-ci fait intervenir plusieurs types d'acteurs intervenant à plusieurs niveaux de l'entreprise~:
\begin{itemize}
\item un analyste métier qui conçoit la vue métier à travers la modélisation et l'évaluation des processus métier mettant en œuvre la stratégie de l'entreprise~;
\item un architecte fonctionnel qui traduit les processus métier en termes de fonctions logiques~;
\item un architecte applicatif qui traduit la vue fonctionnelle en un ensemble structuré d'applications implémentant les différentes fonctions~;
\item un architecte d'entreprise dont la mission est de mettre en cohérence l'ensemble des vues.
\end{itemize}

\begin{figure}[!ht]
 \begin{center}
  \includegraphics[trim= 0cm 3.5cm 0cm 0cm, width=1\textwidth]{figures/4_demarche/approche_conceptuelle.pdf}
 \end{center}
 \caption{Approche conceptuelle pour l'analyse d'une architecture d'entreprise}
 \label{fig:approche_conceptuelle}
\end{figure}

L'analyste métier, l'architecte fonctionnel et l'architecte applicatif collaborent entre eux et avec l'architecture d'entreprise pendant tout le processus de modélisation. Par la suite, l'activité d'intégration incombe à l'architecte d'entreprise, détenteur de la vision globale. Mais l'intégration des vues implique de rebouclage avec les autres acteurs (analyste métier, architecte fonctionnel et architecte applicatif) pour garantir l'alignement business/IT. Les étapes de modélisation et d'intégration de notre approche répondent donc aux objectifs de conception et de communication tels que définis par Kurpjuweit et Winter \cite{kurpjuweit2007viewpoint}.

Comme relaté dans l'état de l'art, l'analyse fait partie des activités les moins courantes de l'EA quelle qu'en soit l'école de pensée \cite{chen2008architectures} \cite{barn2013enterprise}. Et même lorsqu'une architecture d'entreprise est analysée très peu d'approches recourent à la simulation pour analyser l'aspect comportemental \cite{glazner2011enterprise} \cite{manzur2015xarchimate}. La simulation est pourtant une technique reconnue pour évaluer le comportement d'un système et/ou évaluer plusieurs stratégies concernant son fonctionnement \cite{shannon1975systems}. Notre approche préconise de simuler les modèles issus de activités de modélisation et d'intégration afin de les valider ou les critiquer par l'ensemble des acteurs impliqués dans l'EA. Nous couvrons ainsi l'objectif d'analyse tel que préconisé par Kurpjuweit et Winter \cite{kurpjuweit2007viewpoint}. 



\section{Un cadre d'architecture dirigé par les modèles exécutables}

\subsection{Approche par points de vue}

Toute simulation d'un système commence par sa modélisation. Pour modéliser des systèmes complexes comme les architectures d'entreprise, nous adoptons une approche par points de vue. Celle-ci facilite la conception des modèles par les acteurs impliqués en séparant leurs préoccupations respectives. Elle permet également de présenter les modèles obtenus, ainsi que les résultats de simulation de manière plus compréhensible à ces acteurs, car chaque point de vue n'utilise que les concepts métier propres à chaque acteur, selon sa perspective. 

Dans notre approche, nous nous intéressons aux vues métier, fonctionnelle et applicative comme l'illustre la figure~\ref{fig:vue_aspect}. Mais nous souhaitons aussi étendre nos travaux à la vue technique. 
Plusieurs raisons motivent l'utilisation de ces points de vue. D'abord, la vue métier et la vue applicative sont incontournables pour n'importe quel cadre d'architecture. Ensuite, selon les cadres d'architecture, la vue fonctionnelle est modélisée de deux manière~:~ elle est soit intégrée à la vue applicative sous forme de services (Archimate, TOGAF, RM-ODP), soit modélisée à part entière dans une vue dédiée (Club Urba, SGAM, Zachman). Nous prenons le parti de modéliser explicitement les fonctions dans une vue dédiée. En effet, passer directement de la vue du métier à la vue applicative peut être en quelque sorte brutal pour l'analyste métier mais aussi pour l'architecte applicatif. La vue fonctionnelle permet une transition progressive de la logique métier vers l'architecture logicielle.

Nous ne modélisons pas les informations dans une vue dédiée contrairement aux cadre RM-ODP ou SGAM. Nous explicitons les informations en tant qu'aspect pour chacune des autres vues comme recommandé par le cadre Zachman (Le quoi de la dimension horizontale). L'aspect «~\textit{information}~» permet d'avoir un modèle explicite des données utilisées dans chacune des vues métier, fonctionnelle et applicative :
	\begin{itemize}
	\item \textbf{L'aspect information du point de vue métier}
	
	Cet aspect établit le modèle de données métier qui  décrit les objets ou concepts métier manipulés par le processus métier. Ce modèle est peu sujet au changement, sauf évolution importante des pratiques métier. Il est aussi à l'origine du découpage en bloc par entité métier de la vue fonctionnelle~;
	\item \textbf{L'aspect information du point de vue fonctionnel}
	
	Cet aspect établit le modèle de données fonctionnelles qui donne le type des données utilisées par les blocs fonctionnels nécessaires à la réalisation de processus métier. Elle décrit leurs caractéristiques et leurs relations sous forme de diagrammes de classes par exemple~;
	
	\item \textbf{L'aspect information du point de vue applicatif} 
	
	Cet aspect établit le modèle de données applicatives qui dépend fortement des applications choisies : il décrit les formats de données compatibles avec les modules applicatifs.
	\end{itemize}
	
\begin{figure}[!ht]
 \begin{center}
  \includegraphics[trim= 0cm 3cm 0cm 0cm, width=1\textwidth]{figures/4_demarche/vue_aspect.pdf}
 \end{center}
 \caption{Points de vue et aspects utilisés}
 \label{fig:vue_aspect}
\end{figure}
	
De plus, nous modélisons le comportement de chaque vue dans l'aspect «~\textit{processus}~». Ainsi nous retrouvons~:

	\begin{itemize}
	\item \textbf{L'aspect processus du point de vue métier} 
	
	Cet aspect correspond aux processus métier de l'entreprise, décrits en utilisant les concepts métier, sans référence aux détails d'implémentation. Nous préconisons l'utilisation de formalismes standard pour la modélisation de processus métier qui soient exécutables, tels que les diagrammes d'activité fUML ou les diagrammes BPMN dans une perspective de simulation. Des langages spécifiques à un domaine (DSML) peuvent également être utilisés~;
	\item \textbf{L'aspect processus d'un point de vue fonctionnel} 
	
	Cet aspect décrit les fonctions qui réalisent les processus métier ainsi que leur orchestration en tant que processus fonctionnels. Ces fonctions sont regroupées en blocs. Chaque objet métier identifié dans l'aspect Information de la vue métier correspond à un unique bloc fonctionnel. Ceci garantit la construction de blocs fonctionnels fortement décorrélés, avec une forte cohésion interne. Dans chaque bloc fonctionnel, on retrouve les opérations correspondant à une tâche donnée du processus qui impacte l'objet métier impliqué~;
	\item \textbf{L'aspect processus du point de vue applicatif}
	
	Cet aspect décrit les modules logiciels qui implantent les blocs fonctionnels ainsi que leur orchestration en processus applicatifs. Dans un premier temps, il est conseillé de dresser un inventaire de l'existant applicatif et d'en extraire les modules capables de réaliser les opérations des blocs fonctionnels. Ensuite, si aucune application ou module existant ne peut répondre au besoin des nouveaux processus métier, l'architecte technique fait le choix des nouveaux composants applicatifs à mettre en place. En plus d'identifier les composants applicatifs existants ou à développer, l'architecte applicatif spécifie leurs interconnexions tels que échange de messages, synchronisation de données, transfert de fichiers périodique.
	\end{itemize}
	
Nous étendons chacune des vues par l'aspect «~\textit{objectif}~». Cet aspect correspond au «~\textit{pourquoi}~» du cadre Zachman qui spécifie les motivations de l'architecture. D'une part, modéliser cet aspect permet de garder une traçabilité d'une entre les processus modélisés et les objectifs qu'ils sont censés remplir. D'autre part, il permet de décliner les objectifs métier en objectifs applicatifs, et les objectifs applicatifs en objectifs fonctionnels. Comme nos travaux adoptent l'école de pensée «~Architecture du Système Entreprise~», nous souhaitons évaluer non seulement la composante SI mais l'ensemble de l'entreprise dont la stratégie. L'aspect objectif est un moyen de modéliser explicitement la stratégie de l'entreprise, traduite en un ensemble cohérent d'objectifs métier et ce pour évaluer la capacité des processus mis en place à y répondre et pour évaluer la stratégie elle-même par rapport à la réalité de l'entreprise. 

\subsection{Intégration d'une architecture d'entreprise} 

L'alignement et la cohérence sont des problématiques centrales en EA \cite{kaisler_enterprise_2005}. Notre contribution essentielle est de dédier un point de vue spécifique pour adresser ce type de problématique~:~le \textbf{point de vue intégration} illustré par la figure \ref{fig:vue_integration}. Ce point de vue définit un \textit{mapping} d'alignement en spécifiant (1)~les entités à aligner, (2)~les liens de cohérence entre ces éléments et (3) les transformations de modèles nécessaires au raffinement des ces entités. Les transformations de modèles facilitent et automatisent les passages d'une vue à l'autre. Ce point de vue permet une intégration «~IntraVue~» et «~InterVues~» (entres les aspects d'une seule vue). La figure \ref{fig:metamodele_framework} donne un métamodèle de notre framework en explicitant les concepts abordés et leurs relations.

\begin{figure}[!ht]
 \begin{center}
  \includegraphics[trim= 3cm 3cm 0cm 0cm, width=1\textwidth]{figures/4_demarche/vue_integration.pdf}
 \end{center}
 \caption{Framework proposé avec la vue Intégration}
 \label{fig:vue_integration}
\end{figure}

L'intégration inter-vues décrit les relations entre les vues (sauf la vue intégration). La vue intégration est donc transverse à toutes les autres vues et permet de modéliser explicitement les notions de raffinement à travers la classe «~InterVues~» (voir figure \ref{fig:metamodele_framework}), tant pour  les aspects \emph{processus} et \textit{information} que sur les aspects \emph{objectif}.

\begin{figure}[!ht]
 \begin{center}
  \includegraphics[trim= 0cm 13cm 0cm 2cm, width=1\textwidth]{figures/4_demarche/metamodele_framework.pdf}
 \end{center}
 \caption{Métamodèle du framework proposé}
 \label{fig:metamodele_framework}
\end{figure}

Nous donnons le métamodèle de la vue intégration dans la figure \ref{fig:metamodele_vue_integration}. Cette vue permet des vérifications horizontales à l'intérieur de chacune des vues. En effet, l'association «~utilise~» assure donc la compatibilité des données échangées entre les tâches d'un processus métier, les fonctions d'un bloc fonctionnel ou entre les modules d'une application (voir figure \ref{fig:metamodele_vue_integration}). L'association «~rempli par~» hérite aussi de la classe «~IntraVue~» et associe explicitement une entité à l'objectif qui lui est assigné. De cette manière, il est possible de tracer l'implémentation effective d'une stratégie métier à travers l'ensemble de l'entreprise, des entités métier à l'IT.

La définition d'un métamodèle précis pour le framework permet de plus de contrôler la conformité des modèles d'architecture. Ainsi, une entité du modèle (telle qu'une fonction, une tâche du processus métier, un objectif, etc.) appartient toujours à deux vues~:~une vue intégration en plus d'une autre vue parmi les vues métier, fonctionnelle, applicative et technique. Autre exemple, tous les objectifs de la vue métier doivent avoir des liens de cohérence inter-vues avec les objectifs de la vue fonctionnelle et de même pour ces dernier avec les objectif de la vue applicative et ainsi de suite. De même pour les autres entités des aspects information et processus. Une fois le modèle d'architecture créé, il est possible de vérifier sa conformité au métamodèle et de s'assurer que la cohérence entre les différentes entités de modèles est bien maintenue. 

La vue intégration permet en outre de vérifier qu'une application implémente bien tous les blocs fonctionnels nécessaires au déroulement d'un processus métier. Cette vue donne ainsi accès aux informations de traçabilité qui permettent de déterminer l'impact d'une modification ou d'une défaillance d'un module applicatif sur les processus métier. Elle permet aussi de vérifier que les formats applicatifs permettent d'encoder les types de données fonctionnelles requis, qui eux-même raffinent les concepts métiers. Cette vue détermine les éventuelles transformations de modèle nécessaires au déploiement en spécialisant l'association «~raffine~». Le choix des modèles à transformer dépend fortement de leur nature (modèles graphiques, textuels, etc.) et mais aussi de leur niveau d'abstraction. Par exemple, la génération de code demande un modèle en entrée suffisamment détaillé pour exécuter une transformation pertinente. L'état de l'art actuel des langages de transformation de modèle privilégie l'usage des transformations de modèle entre la vue fonctionnelle et et la vue applicative. 


\begin{figure}[!ht]
 \begin{center}
  \includegraphics[trim= 0cm 18cm 0cm 0cm, width=1\textwidth]{figures/4_demarche/metamodele_vue_integration.pdf}
 \end{center}
 \caption{Métamodèle de la vue intégration}
 \label{fig:metamodele_vue_integration}
\end{figure}


\subsection{Analyse de l'architecture d'entreprise}

\subsubsection{Analyse du comportement : simulation dirigée par les processus métier}

Pour simuler le comportement d'une entreprise nous nous appuyant sur les modèles d'architecture d'entreprise préalablement définis par les différentes parties prenantes. L'EA permettent de capturer l'essentiel des composants d'une entreprise sous forme d'abstraction. Une approche par points de vue guide la décomposition d'une entreprise en vues pertinentes pour les différents acteurs. Ces vues apportent une aide supplémentaire à la définition du périmètre des modèles de simulation. La vue intégration permet en particulier de définir les liens entres les différentes vues, donc entre les différents modèles de simulation et de garantir la cohérence et donc la pertinence de la simulation. Comme les modèles de simulation sont directement dérivés de l'architecture d'entreprise telle qu'elle est définie par les parties prenantes, elle est d'autant plus facile à appréhender à comprendre. Ces derniers peuvent aussi aisément communiquer et échanger autour des résultats de la simulation. 

Les modèles d'entreprise doivent offrir un niveau d'abstraction suffisant à la compréhension, l'analyse et la communication. Les modèles doivent donc permettre d'abstraire les détails techniques et les nombreuses interconnexions tout en garantissant la traçabilité et la cohérence de l'ensemble de l'architecture. Notre approche consiste donc de mettre en lumière les composants et les relations qui sont critiques pour le comportement de l'ensemble de l'architecture. En effet, modéliser l'architecture d'une entreprise revient à la modélisation de systèmes complexes. Herbert Simon \cite{simon1990prediction} dans ses travaux de modélisation de systèmes complexes affirme que «~l'approximation judicieuse et non la puissance de calcul d'une machine~» reste la manière la plus effective d'adresser des systèmes complexes.

La simulation des processus métier est souvent réduite à de la simple animation visuelle de diagrammes pour vérifier l'orchestration des taches métier. Nous proposons de piloter la simulation du comportement de l'architecture par le processus métier. Dans ce cas, le calcul d'une valeur ne se fait pas au niveau de la tache métier mais du module applicatif qui l'implémente. Le processus métier est modélisé sous forme de diagrammes d'activité fUML. Dans ce cas les simulations du comportement de l'architecture d'entreprise est pilotée par les processus métier qui sont alors responsable d'orchestrer l'ensemble des modèles comme l'illustre la figure \ref{fig:Simulation_Approche}. La simulation est lancée après l'intégration de l'architecture à travers la création de lien de cohérences intra-vue et inter-vues. Ces liens sont par la suite utilisés pour mettre en œuvre la simulation. D'une part, la \textit{Tâche~A} de la figure \ref{fig:Simulation_Approche} appelle le \textit{Module~A} car le \textit{Module~A} raffine la \textit{Fonction~A} qui elle-même raffine la \textit{Tâche~A}. D'autre part, les liens de cohérences intravue garantisse une compatibilité entre les informations envoyés par la \textit{Tâche~A} et celles attendues par la \textit{Tâche~B}, de même entre la \textit{Fonction~A} et la \textit{Fonction~B} et entre le \textit{Module~A} et le \textit{Module~B}.

\begin{figure}[!ht]
 \begin{center}
  \includegraphics[trim= 0cm 2cm 0cm 0cm, width=1\textwidth]{figures/4_demarche/approche_simulation.pdf}
 \end{center}
 \caption{Simulation dirigée par les processus métier}
 \label{fig:Simulation_Approche}
\end{figure}

En plus de s'appuyer sur les processus métier pour piloter la simulation de l'ensemble du comportement de l'architecture d'entreprise, notre approche consiste à mettre à profit les techniques et les langages de l'IDM pour faciliter l'automatisation de l'activité d'analyse du comportement. Nous nous appuyant sur le manifeste de IBM \cite{chesbrough2006research} concernant l'IDM dans la sélection de techniques et langages qui soient pertinents pour notre approche. Le manifeste de IBM recommande l'utilisation de langages (1)~exécutables, (2)~standardisés et (3) compréhensibles par les experts du domaine. C'est le cas de fUML, BPMN et OCL. La figure \ref{fig:IDM_EA} fait la correspondance entre les langages et la possibilité de les utiliser selon les vues. 


Ces langages permettent une exécution directe des modèles créés. Contrairement à d'autres méthodes de simulation de processus métier qui utilisent l'IDM pour isoler la définition du processus de son exécution. Ces méthodes font ensuite appel aux transformations de modèle pour automatiser la conversion entre les modèles de représentation et leur exécution. 

\begin{table}[!ht]
    \begin{center}
        \input{figures/4_demarche/langages_vues}
    \end{center}
    \caption{Langages de l'IDM pour l'EA}
    \label{fig:IDM_EA}
\end{table}

\subsubsection{Analyse de la structure}
Tout comme l'analyse du comportement, l'analyse de la structure de l'architecture d'entreprise est étroitement lié à l'impératif de cohérence.  Il est indispensable s'assurer de la cohérence entres les modèles des différentes vues avant d'initier une analyse structurelle qui soit pertinente pour les parties prenantes et en particulier pour l'architecte d'entreprise. 

Notre contribution consiste à définir la manière dont les langages et techniques de l'IDM peuvent être utilisés pour mener une analyse structurelle des modèles d'entreprise. Le cadre d'EA que nous proposons permet d'acquérir une vision globale et cohérente de l'ensemble des artefacts qui la composent. La taille de plus en plus importantes des entreprises actuelle fait que la complexité de l'entreprise en tant que système se retrouve dans les modèles d'architecture qui le représentent.

L'analyse automatisée de ces modèles facilite leur appréhension par l'acteur qui mène ces analyses (en l'occurrence l'architecte d'entreprise). Elle permet de révéler la structure de l'entreprise et le fonctionnement de cette structure. Un intérêt  typique de l'analyse de la structure est la mesure de l'impact du changement \cite{de2005change} sur l'architecture. L'analyse de l'impact du changement consiste à dévoiler les effets de bord d'un changement apporté à un élément de l'architecture.  

Les langages de modélisation doivent donc permettre de représenter convenablement les différents composants de l'entreprise en plus d'offrir la possibilité d'analyser la structure des modèles créés dans l'objectif de mieux comprendre le système réel, qui est dans ce cas l'entreprise. Nous proposons donc de tirer profit des méthodes IDM telle la métamodélisation et de les associer à des langages capables d'exprimer et d'exécuter des contraintes et des requêtes sur les modèles tels que OCLinEcore ou QVT. Grâce à ce type de langage il est possible de~:
\begin{enumerate}
\item modéliser des règles de structure supplémentaires qui précisent d'avantage méta-modèle d'architecture. Une fois que le modèle d'architecture est conforme à ce métamodèle, il est possible de vérifier qu'il respecte bien toutes les contraintes exprimées au niveau du métamodèle~;
\item analyser l'impact du changement pour évaluer par exemple l'impact de l'indisponibilité d'un module applicatif sur l'architecture globale. En mettant à profit les liens de cohérence de la vue intégration, il est alors possible de déterminer quels sont les processus métier ou fonctionnels touchés par cette défaillance applicative. De même, il est possible d'identifier les modules applicatifs existants pouvant participer à la réalisation d'un nouveau métier si ces processus fait intervenir des taches métier déjà implémentées dans le SI.
\end{enumerate}




 

%(Describes the system’s functional elements, their responsibilities, interfaces, and primary interactions. A Functional view is the cornerstone of most ADs and is often the first part of the description that stakeholders try to read. It drives the shape of other system structures such as the information structure, concurrency structure, deployment structure, and so on. It also has a significant impact on the system’s quality properties such as its ability to change, its ability to be secured, and its runtime performance.)

%\subsubsection{Le Model Typing pour la cohérence inter- et intra-vue}
%Le \textit{Model Typing} est une technique de l'IDM appliqué au développement logiciel permettant de contrôler les types de modèles d'entrée des transformations de modèle à leur exécution. Nous proposons d'appliquer les principes du \textit{Model Typing} aux modèles d'EA et aux transformations de modèle qui leurs sont associées. Par exemple, un processus métier utilise en entrée et en sortie des modèles représentant des concepts métier. Un processus peut donc être considéré comme une transformation de modèle. 
%Ainsi, le \textit{Model Typing} peut être utilisé pour l'intégration horizontale (i.e. cohérence et orchestration des processus d'une même vue). 





